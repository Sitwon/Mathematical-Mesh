<?xml version='1.0'?>
<!DOCTYPE rfc SYSTEM 'rfc2629.dtd'>
<rfc ipr="trust200902" docName="draft-hallambaker-mesh-app-web-00" category="std">
<?rfc toc="yes"?>  
<?rfc symrefs="yes"?>  
<?rfc sortrefs="yes"?>  
<?rfc compact="yes"?>  
<?rfc subcompact="no"?>  
<front>
<title abbrev="Mathematical Mesh Platform Configuration">Mathematical Mesh: Web Application Binding</title>
<author fullname="Phillip Hallam-Baker    " initials="P. M.    " surname="Hallam-Baker    ">
<organization>Comodo Group Inc.    </organization>
<address>
<email>philliph@comodo.com</email>
</address>
</author>
<date day="19" month="September" year="2016"/>
<area>Security</area>
<workgroup/>
<abstract>
<t>The Mathematical Mesh 'The Mesh' is an end-to-end secure infrastructure that facilitates the exchange of configuration and credential data between multiple user devices. This document describes the use of the Mesh to store Web application information.</t>
</abstract>
</front>
<middle>
<section title="Definitions" anchor="Section_1">
<section title="Requirements Language" anchor="Section_1_1">
<t>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in RFC 2119 [RFC2119].</t>
</section>
</section>
<section title="Introduction" anchor="Section_2">
<t>The Mathematical Mesh is a personal PKI that permits a user to connect multiple devices to a 'personal profile' through which application information is shared between the connected devices. All Mesh communications are secured through a combination of end-to-end security to protect confidentiality and integrity and transport security to provide protection against traffic analysis.</t>
<t>A full description of the Mathematical Mesh architecture is to be found in [draft-hallambaker-mesh-architecture-01]</t>
<t>This document describes a proposed design for a demonstration of using the Mesh to provide a cloud based password manager for connected Web browsers. The approach may be readily extended to support management of Web bookmarks.</t>
<t/>
</section>
<section title="Password Management " anchor="Section_3">
<t>Alice decides to use the Mesh to manage her Web usernames and passwords. </t>
<t>She creates two accounts: </t>
<t><list style="symbols">
<t><list style="symbols">
<t> example.com: username 'alice', password 'secret' </t>
<t> cnn.com: username 'alice1', password 'secret' </t>
</list></t>
</list></t>
<t>The JSON encoding of the password data is as follows: </t>
<figure>
<artwork>
<![CDATA[{
  "PasswordProfilePrivate": {
    "Entries": [{
        "Sites": ["example.com"],
        "Username": "alice",
        "Password": "secret"},
      {
        "Sites": ["cnn.com"],
        "Username": "alice1",
        "Password": "secret"}]}}]]></artwork>
</figure>
<t>The JSON encoded password data is then encrypted and stored in an application profile as follows: </t>
<figure>
<artwork>
<![CDATA[{
  "PasswordProfile": {
    "Identifier": "MBSHO-5D2GR-T7TNK-XHJV6-BHX5I-KA6TX-A",
    "EncryptedData": {
      "protected": "
ewogICJhbGciOiAiQUUxMjgifQ",
      "iv": "
9LOpFHTVI9-wtPECFHpRoA",
      "ciphertext": "
-jwZ9rngzGV2Gu7x-IwDXGksDFwIm01TJqSPkR_5CacxMB-r0MzVyeomjMmpCImg",
      "recipients": [{
          "Header": {
            "kid": "MAMNH-KGSPE-RDKMQ-TEKRS-5RRVC-FNIMV"},
          "encrypted_key": "
Y5glmB3szauorgusT293C7CAaHMcHtn1PqtmRz7OVcmjz39-xItg0xzhC6-VPXhS
1ye9qJSwmNHv8sQQ8vNi7pWijM-NKFUJhkjEo5iM6CKcpxlphh4gW8exEH-HScvB
5TNZk0wYmmR9LdTribgNlWAwu-n3I9xN9tZAr9icaggGH7GbSO9C9l8IgjpbZsDh
B7bBAuOGNviOy-3mIIF0bXo3EBCS3a_TGFtMicEtWa0AdgpM8hDdOCLZ738HBuxN
vku5SWIGCdx29povPuSalkBuPBX5CFnkq2IqR51QUTRyJtkEl6ts9oprPcJ4GEZd
fgASNb4g4LEP8JC7WmJeQg"},
        {
          "Header": {
            "kid": "MB6UF-V26OG-ME234-PHNWP-NS4RQ-V64YO"},
          "encrypted_key": "
fTFLdjuIw-8uFFmwm5twpiK05F6_tZMO6ZrDjVnjsi_VfOoCPP8hFFemfvx9XqSg
KmhVMysq_sJ6tw40duUNkOZcgaXpkfbBPFlobQPLMIfQydklq_njTTFYHWQhT-ui
aRTu4vUZ_n_R478fF7gKEn5LSCFIDH52AZWgpnRfMsIGdrKJUhPwbQV4vuwd4FFK
uRwLlTMVPfGOUSww38VZx0uIAJdqHztl5gKP3rP2Ld1lpDcGxX-ZYwDQQCdSlH0j
-Z8wezlnbLtTV5ri3TrYpZYEto_TYDVQlPWNArmQhjhrX8q9-pyAxBaEMFA4MhbP
BMN4sq6M34sC6Yc5nS3s1Q"}]}}}]]></artwork>
</figure>
<t>As we saw earlier, Alice really needs to start using stronger passwords.  Fortunately, having access to a password manager means that Alice doesn't need to remember different passwords for every site she uses any more. </t>
<t>In addition to offering to use the Mesh to remember passwords, a Web browser can offer to automatically generate a password for a site. This can be a much stronger password than the user would normally want to choose if they had to remember it. </t>
<t>Alice chooses to use password generation. Her password manager profile is updated to reflect this new choice. </t>
<figure>
<artwork>
<![CDATA[{
  "PasswordProfilePrivate": {
    "AutoGenerate": true,
    "Entries": [{
        "Sites": ["example.com"],
        "Username": "alice",
        "Password": "secret"},
      {
        "Sites": ["cnn.com"],
        "Username": "alice1",
        "Password": "secret"}]}}]]></artwork>
</figure>
<t>Alice is happy to use the password manager for her general Web sites but not for the password she uses to log in to her bank account. When asked if the password should be stored in the Mesh, Alice declines and asks  not to be asked in the future. </t>
<figure>
<artwork>
<![CDATA[{
  "PasswordProfilePrivate": {
    "AutoGenerate": true,
    "Entries": [{
        "Sites": ["example.com"],
        "Username": "alice",
        "Password": "secret"},
      {
        "Sites": ["cnn.com"],
        "Username": "alice1",
        "Password": "secret"}],
    "NeverAsk": ["bank.com"]}}]]></artwork>
</figure>
<section title="Bookmark Management" anchor="Section_3_1">
<t>The use of the Mesh to store bookmarks is an obvious extension to use of the Mesh as a password manage. The principal differences being that the privacy concerns are somewhat less critical than storing credentials and a bookmark file is likely to be considerably longer than a password file.</t>
<t>The principal design challenge in adding bookmarks is working out how to provide a convenient interface to help the user manage their bookmarks. A hierarchical list of folders quickly becomes cluttered.</t>
</section>
</section>
<section title="Application Schema" anchor="Section_4">
<t/>
<section title="Password Application Profile Objects " anchor="Section_4_1">
<section title="Structure: PasswordProfile " anchor="Section_4_1_1">
<t><list style="symbols">
<t><list style="symbols">
<t> Inherits: ApplicationProfile </t>
</list></t>
</list></t>
<t>Stores usernames and passwords </t>
<t>[None] </t>
</section>
<section title="Structure: PasswordProfilePrivate " anchor="Section_4_1_2">
<t>AutoGenerate: Boolean (Optional) </t>
<t><list style="hanging">
<t><list style="hanging">
<t hangText="If true, a client MAY offer to automatically generate strong (i.e. not memorable) passwords for a user. A user would not normally want to use this feature unless they have access to Mesh password management on every device they use to browse the Web "> </t>
</list></t>
</list></t>
<t>Entries: PasswordEntry [0..Many] </t>
<t><list style="hanging">
<t><list style="hanging">
<t hangText="A list of password credential entries. "> </t>
</list></t>
</list></t>
<t>NeverAsk: String [0..Many] </t>
<t><list style="hanging">
<t><list style="hanging">
<t hangText="A list of domain names of sites for which clients MUST NOT ask to store passwords for. "> </t>
</list></t>
</list></t>
</section>
<section title="Structure: PasswordEntry " anchor="Section_4_1_3">
<t>Username password entry for a single site </t>
<t>Sites: String [0..Many] </t>
<t><list style="hanging">
<t><list style="hanging">
<t hangText="DNS name of site *.example.com matches www.example.com etc. "> </t>
</list></t>
</list></t>
<t>Username: String (Optional) </t>
<t><list style="hanging">
<t><list style="hanging">
<t hangText="Case sensitive username "> </t>
</list></t>
</list></t>
<t>Password: String (Optional) </t>
<t><list style="hanging">
<t><list style="hanging">
<t hangText="Case sensitive password. "> </t>
</list></t>
</list></t>
</section>
</section>
</section>
<section title="Demonstration" anchor="Section_5">
<t>A demonstration of using the Mesh to manage Web browser passwords is described.</t>
<t>The end goal in developing the Mesh application protocols is to encourage application providers to provide native support for the Mesh rendering extensions obsolete. Such implementation is likely to be best encouraged through provision of a reference library in C.</t>
<t>I propose implementation of a demonstration as follows:</t>
<t>Platform Windows</t>
<t>Browser: Chrome</t>
<t>Approach:</t>
<t>Integration to browser features to be supported by platform independent extension module</t>
<t>Mesh integration to be provided by a platform specific executable written in C.</t>
<t>For initial testing / canned demo purposes, the Mesh integration module will be a 'stub' that access a data file at a defined location on disk that contains the PasswordProfilePrivate data structure. The task of synchronizing data with the Mesh will be performed using the Mesh profile management client.</t>
<t>Further development:</t>
<t>Implementation of the production extension by modifying the platform specific executable. </t>
<t>Support for macOS by implementing a Mac specific platform executable</t>
<t>Support for Linux by implementing a Mac specific platform executable</t>
<t>This approach allows the platform specific extensions to be tailored to the cryptographic key management capabilities offered by each platform. For example, the use of a TPM to protect private keys on Windows or the Keyring mechanism on macOS.</t>
<t/>
</section>
</middle>
<back>
<references title="Normative References">
<reference anchor="RFC2119">
<front>
<title>Key words for use in RFCs to Indicate Requirement Levels</title>
<author fullname="S. Bradner" initials="S." surname="Bradner">
<organization/>
<address>
</address>
</author>
<date month="March" year="1997"/>
</front>
<seriesInfo name="BCP" value="14"/>
<seriesInfo name="RFC" value="2119"/>
<seriesInfo name="DOI" value="10.17487/RFC2119"/>
</reference>
<reference anchor="draft-hallambaker-mesh-architecture-01">
<front>
<title>[Reference Not Found!]</title>
<author initials="" surname="">
<organization/>
<address>
</address>
</author>
<date/>
</front>
</reference>
</references>
</back>
</rfc>
