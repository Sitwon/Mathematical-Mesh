<?xml version='1.0'?>
<html>
<head>
<title>Mathematical Mesh Platform Configuration</title>
</head>
<body>
<h1>Mathematical Mesh: Web Application Binding</h1>
<h1 class="abstract" id="Abstract">Abstract</h1>
<P class="abstract">The Mathematical Mesh 'The Mesh' is an end-to-end secure infrastructure that facilitates the exchange of configuration and credential data between multiple user devices. This document describes the use of the Mesh to store Web application information.</P>
<h1 id="Section_1">Definitions</h1>
<h2 id="Section_1_1">Requirements Language</h2>
<p id="">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in RFC 2119 [RFC2119].</p>
<h1 id="Section_2">Introduction</h1>
<p id="">The Mathematical Mesh is a personal PKI that permits a user to connect multiple devices to a 'personal profile' through which application information is shared between the connected devices. All Mesh communications are secured through a combination of end-to-end security to protect confidentiality and integrity and transport security to provide protection against traffic analysis.</p>
<p id="">A full description of the Mathematical Mesh architecture is to be found in [draft-hallambaker-mesh-architecture-01]</p>
<p id="">This document describes a proposed design for a demonstration of using the Mesh to provide a cloud based password manager for connected Web browsers. The approach may be readily extended to support management of Web bookmarks.</p>
<p id=""/>
<h1 id="Section_3">Password Management </h1>
<p id="">Alice decides to use the Mesh to manage her Web usernames and passwords. </p>
<p id="">She creates two accounts: </p>
<ul>
<ul>
<li> example.com: username 'alice', password 'secret' </li>
<li> cnn.com: username 'alice1', password 'secret' </li>
</ul>
</ul>
<p id="">The JSON encoding of the password data is as follows: </p>
<pre id="">
<![CDATA[{
  "PasswordProfilePrivate": {
    "Entries": [{
        "Sites": ["example.com"],
        "Username": "alice",
        "Password": "secret"},
      {
        "Sites": ["cnn.com"],
        "Username": "alice1",
        "Password": "secret"}]}}]]></pre>
<p id="">The JSON encoded password data is then encrypted and stored in an application profile as follows: </p>
<pre id="">
<![CDATA[{
  "PasswordProfile": {
    "Identifier": "MBSHO-5D2GR-T7TNK-XHJV6-BHX5I-KA6TX-A",
    "EncryptedData": {
      "protected": "
ewogICJhbGciOiAiQUUxMjgifQ",
      "iv": "
9LOpFHTVI9-wtPECFHpRoA",
      "ciphertext": "
-jwZ9rngzGV2Gu7x-IwDXGksDFwIm01TJqSPkR_5CacxMB-r0MzVyeomjMmpCImg",
      "recipients": [{
          "Header": {
            "kid": "MAMNH-KGSPE-RDKMQ-TEKRS-5RRVC-FNIMV"},
          "encrypted_key": "
Y5glmB3szauorgusT293C7CAaHMcHtn1PqtmRz7OVcmjz39-xItg0xzhC6-VPXhS
1ye9qJSwmNHv8sQQ8vNi7pWijM-NKFUJhkjEo5iM6CKcpxlphh4gW8exEH-HScvB
5TNZk0wYmmR9LdTribgNlWAwu-n3I9xN9tZAr9icaggGH7GbSO9C9l8IgjpbZsDh
B7bBAuOGNviOy-3mIIF0bXo3EBCS3a_TGFtMicEtWa0AdgpM8hDdOCLZ738HBuxN
vku5SWIGCdx29povPuSalkBuPBX5CFnkq2IqR51QUTRyJtkEl6ts9oprPcJ4GEZd
fgASNb4g4LEP8JC7WmJeQg"},
        {
          "Header": {
            "kid": "MB6UF-V26OG-ME234-PHNWP-NS4RQ-V64YO"},
          "encrypted_key": "
fTFLdjuIw-8uFFmwm5twpiK05F6_tZMO6ZrDjVnjsi_VfOoCPP8hFFemfvx9XqSg
KmhVMysq_sJ6tw40duUNkOZcgaXpkfbBPFlobQPLMIfQydklq_njTTFYHWQhT-ui
aRTu4vUZ_n_R478fF7gKEn5LSCFIDH52AZWgpnRfMsIGdrKJUhPwbQV4vuwd4FFK
uRwLlTMVPfGOUSww38VZx0uIAJdqHztl5gKP3rP2Ld1lpDcGxX-ZYwDQQCdSlH0j
-Z8wezlnbLtTV5ri3TrYpZYEto_TYDVQlPWNArmQhjhrX8q9-pyAxBaEMFA4MhbP
BMN4sq6M34sC6Yc5nS3s1Q"}]}}}]]></pre>
<p id="">As we saw earlier, Alice really needs to start using stronger passwords.  Fortunately, having access to a password manager means that Alice doesn't need to remember different passwords for every site she uses any more. </p>
<p id="">In addition to offering to use the Mesh to remember passwords, a Web browser can offer to automatically generate a password for a site. This can be a much stronger password than the user would normally want to choose if they had to remember it. </p>
<p id="">Alice chooses to use password generation. Her password manager profile is updated to reflect this new choice. </p>
<pre id="">
<![CDATA[{
  "PasswordProfilePrivate": {
    "AutoGenerate": true,
    "Entries": [{
        "Sites": ["example.com"],
        "Username": "alice",
        "Password": "secret"},
      {
        "Sites": ["cnn.com"],
        "Username": "alice1",
        "Password": "secret"}]}}]]></pre>
<p id="">Alice is happy to use the password manager for her general Web sites but not for the password she uses to log in to her bank account. When asked if the password should be stored in the Mesh, Alice declines and asks  not to be asked in the future. </p>
<pre id="">
<![CDATA[{
  "PasswordProfilePrivate": {
    "AutoGenerate": true,
    "Entries": [{
        "Sites": ["example.com"],
        "Username": "alice",
        "Password": "secret"},
      {
        "Sites": ["cnn.com"],
        "Username": "alice1",
        "Password": "secret"}],
    "NeverAsk": ["bank.com"]}}]]></pre>
<h2 id="Section_3_1">Bookmark Management</h2>
<p id="">The use of the Mesh to store bookmarks is an obvious extension to use of the Mesh as a password manage. The principal differences being that the privacy concerns are somewhat less critical than storing credentials and a bookmark file is likely to be considerably longer than a password file.</p>
<p id="">The principal design challenge in adding bookmarks is working out how to provide a convenient interface to help the user manage their bookmarks. A hierarchical list of folders quickly becomes cluttered.</p>
<h1 id="Section_4">Application Schema</h1>
<p id=""/>
<h2 id="Section_4_1">Password Application Profile Objects </h2>
<h3 id="Section_4_1_1">Structure: PasswordProfile </h3>
<ul>
<ul>
<li> Inherits: ApplicationProfile </li>
</ul>
</ul>
<p id="">Stores usernames and passwords </p>
<p id="">[None] </p>
<h3 id="Section_4_1_2">Structure: PasswordProfilePrivate </h3>
<p id="">AutoGenerate: Boolean (Optional) </p>
<dl>
<dl>
<dt>If true, a client MAY offer to automatically generate strong (i.e. not memorable) passwords for a user. A user would not normally want to use this feature unless they have access to Mesh password management on every device they use to browse the Web </dt>
</dl>
</dl>
<p id="">Entries: PasswordEntry [0..Many] </p>
<dl>
<dl>
<dt>A list of password credential entries. </dt>
</dl>
</dl>
<p id="">NeverAsk: String [0..Many] </p>
<dl>
<dl>
<dt>A list of domain names of sites for which clients MUST NOT ask to store passwords for. </dt>
</dl>
</dl>
<h3 id="Section_4_1_3">Structure: PasswordEntry </h3>
<p id="">Username password entry for a single site </p>
<p id="">Sites: String [0..Many] </p>
<dl>
<dl>
<dt>DNS name of site *.example.com matches www.example.com etc. </dt>
</dl>
</dl>
<p id="">Username: String (Optional) </p>
<dl>
<dl>
<dt>Case sensitive username </dt>
</dl>
</dl>
<p id="">Password: String (Optional) </p>
<dl>
<dl>
<dt>Case sensitive password. </dt>
</dl>
</dl>
<h1 id="Section_5">Demonstration</h1>
<p id="">A demonstration of using the Mesh to manage Web browser passwords is described.</p>
<p id="">The end goal in developing the Mesh application protocols is to encourage application providers to provide native support for the Mesh rendering extensions obsolete. Such implementation is likely to be best encouraged through provision of a reference library in C.</p>
<p id="">I propose implementation of a demonstration as follows:</p>
<p id="">Platform Windows</p>
<p id="">Browser: Chrome</p>
<p id="">Approach:</p>
<p id="">Integration to browser features to be supported by platform independent extension module</p>
<p id="">Mesh integration to be provided by a platform specific executable written in C.</p>
<p id="">For initial testing / canned demo purposes, the Mesh integration module will be a 'stub' that access a data file at a defined location on disk that contains the PasswordProfilePrivate data structure. The task of synchronizing data with the Mesh will be performed using the Mesh profile management client.</p>
<p id="">Further development:</p>
<p id="">Implementation of the production extension by modifying the platform specific executable. </p>
<p id="">Support for macOS by implementing a Mac specific platform executable</p>
<p id="">Support for Linux by implementing a Mac specific platform executable</p>
<p id="">This approach allows the platform specific extensions to be tailored to the cryptographic key management capabilities offered by each platform. For example, the use of a TPM to protect private keys on Windows or the Keyring mechanism on macOS.</p>
<p id=""/>
<h1>References</h1>
<h2 class="references" id="NormativeReferences">Normative References</h2>
</body>
</html>
